define("gpub",function(){var a=function(a,b,c){var d,e,f;for(e=0,f=a.length;f>e&&(d=a[e],!d||(c.event=d,c.target=d.target,d.callback.apply(d.scope,b)!==!1));e++);},b=function(a,b){return"function"==typeof a&&(a=a.prototype),Object.keys(b).forEach(function(c){a[c]=b[c]}),a},c=[].slice,d=function(){};return d.prototype.on=function(a,b,c){var d=this.callbacks(a),e={};return e.topic=a,e.callback=b,e.scope=c||this,e.target=this,d.push(e),this},d.prototype.emits=function(a){return this.callbacks().hasOwnProperty(a)&&this.callbacks(a).length>0},d.prototype.emit=function(b,d){var e=c.call(arguments,1);d=d||{},e.push(d);var f,g,h;return(g=this.callbacks())?(f=g[b])||g.all?((h=g.all)&&a.call(this,h,c.call(arguments,0),d),f&&a.call(this,f,e,d),this):this:this},d.prototype.off=function(a,b){var c,d,e,f;if(a||b||(this._callbacks={}),!(d=this.callbacks()))return this;if(!(c=d[a]))return this;for(e=0,f=c.length;f>e;e++)c[e].callback===b&&c.splice(e,1);return this},d.prototype.callbacks=function(a){return this._callbacks=this._callbacks||{},a?this._callbacks[a]||(this._callbacks[a]=[]):this._callbacks},d.observable=function(a){return b(a||{},d.prototype)},d.delegable=function(a,b,c,d){"on"in a&&"emit"in a||this.observable(a),c||(c=function(a){return"on"+a}),"string"==typeof b&&(b=b.split(d||" "));var e,f="function"==typeof a;return b.forEach(function(b){e=function(a){return a?(this.on(b,a),this):this},f&&e.bind(a),a[c(b)]=e}),a},d.bindable=function(a,b,c,d){"on"in a&&"emit"in a||this.observable(a);var e=a[b||"set"],f=a[c||"get"],g=function(a,b){var c=f.call(this,a),d=e.call(this,a,b),g={old:c,value:b,property:a};return this.emits("change")&&this.emit("change",g),this.emits("change:"+a)&&this.emit("change:"+a,g),d};return d&&g.bind(a),a[b]=g,a},d.prototype.publish=d.prototype.emit,d.prototype.subscribe=d.prototype.on,d.prototype.unsubscribe=d.prototype.off,d.prototype.subscribers=d.prototype.emits,d});