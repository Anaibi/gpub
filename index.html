<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Gpub by Anaibi</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Gpub</h1>
      <h2 class="project-tagline">Tiny PubSub module.</h2>
      <a href="https://github.com/Anaibi/gpub" class="btn">View on GitHub</a>
      <a href="https://github.com/Anaibi/gpub/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/Anaibi/gpub/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="gpub" class="anchor" href="#gpub" aria-hidden="true"><span class="octicon octicon-link"></span></a>Gpub</h1>

<p>Tiny PubSub module.</p>

<p><a href="http://travis-ci.org/goliatone/gpub"><img src="https://secure.travis-ci.org/goliatone/gpub.png" alt="Build Status"></a></p>

<h2>
<a id="getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span class="octicon octicon-link"></span></a>Getting Started</h2>

<p>Download the <a href="https://raw.github.com/goliatone/gpub/master/dist/gpub.min.js">production version</a> or the <a href="https://raw.github.com/goliatone/gpub/master/dist/gpub.js">development version</a>.</p>

<h2>
<a id="documentation" class="anchor" href="#documentation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Documentation</h2>

<p>To generate documentation, run:</p>

<p><code>jsdox --output docs src/</code></p>

<h1>
<a id="gpub-simple-pubsub" class="anchor" href="#gpub-simple-pubsub" aria-hidden="true"><span class="octicon octicon-link"></span></a>Gpub: Simple pub/sub</h1>

<p><em>(c) 2013 goliatone</em></p>

<p><strong>Author:</strong> goliatone</p>

<p><strong>Overview:</strong> Gpub is an Event Dispatcher library. Or pub/sub.</p>

<h2>
<a id="gpubontopic-callback-scope-options" class="anchor" href="#gpubontopic-callback-scope-options" aria-hidden="true"><span class="octicon octicon-link"></span></a>Gpub.on(topic, callback, scope, options)</h2>

<p>Register an event listener.
the handler.
event to all handler callbacks.</p>

<p><strong>Parameters</strong></p>

<p><strong>topic</strong>:  <em>String</em>,  String indicating the event type</p>

<p><strong>callback</strong>:  <em>Function</em>,  Callback to handle event topics.</p>

<p><strong>scope</strong>:  <em>Object</em>,  We can dynamically change the scope of</p>

<p><strong>options</strong>:  <em>Object</em>,  Options object that will be sent with the</p>

<h2>
<a id="gpubemitstopic" class="anchor" href="#gpubemitstopic" aria-hidden="true"><span class="octicon octicon-link"></span></a>Gpub.emits(topic)</h2>

<p>Checks to see if the provided topic has
registered listeners and thus triggering
and event.</p>

<p><strong>Parameters</strong></p>

<p><strong>topic</strong>:  <em>String</em>,  Event type.</p>

<h2>
<a id="gpubemittopic-options" class="anchor" href="#gpubemittopic-options" aria-hidden="true"><span class="octicon octicon-link"></span></a>Gpub.emit(topic, options)</h2>

<p>Triggers an event so all registered listeners
for the <code>topic</code> will be notified.
Optionally, we can send along an options object.</p>

<p>in the event to all listeners
registered with <code>topic</code>.</p>

<p><strong>Parameters</strong></p>

<p><strong>topic</strong>:  <em>String</em>,  Event type.</p>

<p><strong>options</strong>:  <em>Object</em>,  Options object, sent along</p>

<h2>
<a id="gpubofftopic-callback" class="anchor" href="#gpubofftopic-callback" aria-hidden="true"><span class="octicon octicon-link"></span></a>Gpub.off(topic, callback)</h2>

<p>Unregisters the given <code>callback</code> from <code>topic</code>
events.
If called without arguments, it will remove all
listeners.
TODO: If we pass <code>topic</code> but no <code>callback</code> should we
remove all listeners of <code>topic</code>?</p>

<p><strong>Parameters</strong></p>

<p><strong>topic</strong>:  <em>String</em>,  Event type.</p>

<p><strong>callback</strong>:  <em>Function</em>,  Listener we want to remove.</p>

<h2>
<a id="gpubcallbackstopic" class="anchor" href="#gpubcallbackstopic" aria-hidden="true"><span class="octicon octicon-link"></span></a>Gpub.callbacks(topic)</h2>

<p>Returns all registered listeners for
a given <code>topic</code>.
If called without <code>topic</code> will return all
callbacks.</p>

<p>Used internally.</p>

<p><strong>Parameters</strong></p>

<p><strong>topic</strong>:  <em>String</em>,  Event type.</p>

<h2>
<a id="gpubobservabletarget" class="anchor" href="#gpubobservabletarget" aria-hidden="true"><span class="octicon octicon-link"></span></a>Gpub.observable(target)</h2>

<p>Observable mixin. It will add <code>Gpub</code> methods
to the given <code>target</code>.
If we provide a <code>constructor</code> it will extend
it's prototype.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">var</span> <span class="pl-en">Model</span> <span class="pl-k">=</span> <span class="pl-k">function</span>(){};
Gpub.observable(Model);
<span class="pl-k">var</span> user <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Model</span>();
user.on(<span class="pl-s"><span class="pl-pds">'</span>something<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>(){<span class="pl-en">console</span><span class="pl-c1">.log</span>(<span class="pl-s"><span class="pl-pds">'</span>Hola!<span class="pl-pds">'</span></span>)});
user.emit(<span class="pl-s"><span class="pl-pds">'</span>something<span class="pl-pds">'</span></span>);</pre></div>

<p><strong>Parameters</strong></p>

<p><strong>target</strong>:  <em>Object|Function</em>,  </p>

<p><strong>Returns</strong></p>

<p><em>Object|Function</em>,  Returns the given object.</p>

<h2>
<a id="gpubdelegablesrc-events-eventbuilder-glue" class="anchor" href="#gpubdelegablesrc-events-eventbuilder-glue" aria-hidden="true"><span class="octicon octicon-link"></span></a>Gpub.delegable(src, events, eventBuilder, glue)</h2>

<p>It will create methods in <code>src</code> to register
handlers for all passed events.</p>

<p>If we pass:
var Model = function(){};
var events = ['change', 'sync'];
Gpub.delegable(Model.prototype, events);
var user = new Model();
user.onsync(function(e){console.log('sync\'d', e)});
user.onchange(function(e){console.log('changed', e)});
user.emit('change').emit('sync');</p>

<p>By default, methods generated will be in the form
of <strong>on</strong>+<strong>event</strong>.
We can pass in a custom method name generator.</p>

<p>If the passed in <code>src</code> object is not an instance
of <code>Gpub</code> it will be augmented with the mixin.</p>

<p>with methods.
generate delegate methods.
method name.
will be used to split into different
event types.</p>

<p><strong>Parameters</strong></p>

<p><strong>src</strong>:  <em>Object</em>,  Object to extend</p>

<p><strong>events</strong>:  <em>Array|String</em>,  Events for which we want to</p>

<p><strong>eventBuilder</strong>:  <em>Function</em>,  Function to generate the delegate</p>

<p><strong>glue</strong>:  <em>String</em>,  If we pass in a string, this</p>

<p><strong>Returns</strong></p>

<p><em>Object</em>,  Returns passed in object.</p>

<h2>
<a id="gpubbindablesrc-set-get-bind" class="anchor" href="#gpubbindablesrc-set-get-bind" aria-hidden="true"><span class="octicon octicon-link"></span></a>Gpub.bindable(src, set, get, bind)</h2>

<p>It will monkey patch the given <code>src</code> setter
method so that it triggers a <code>change</code> and <code>change:&lt;key&gt;</code>
event on update. The event object carries the old value
and the current value, plus the updated property name.</p>

<p>It's a quick way to generate a bindable model.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">var</span> <span class="pl-en">Model</span> <span class="pl-k">=</span> <span class="pl-k">function</span>(){<span class="pl-v">this</span>.<span class="pl-c1">data</span><span class="pl-k">=</span>{}};
<span class="pl-c1">Model</span>.<span class="pl-c1">prototype</span>.<span class="pl-en">set</span> <span class="pl-k">=</span> <span class="pl-k">function</span>(<span class="pl-smi">key</span>, <span class="pl-smi">value</span>) {
    <span class="pl-v">this</span>.<span class="pl-c1">data</span>[key] <span class="pl-k">=</span> value;
    <span class="pl-k">return</span> <span class="pl-v">this</span>;
};
<span class="pl-c1">Model</span>.<span class="pl-c1">prototype</span>.<span class="pl-en">get</span> <span class="pl-k">=</span> <span class="pl-k">function</span>(<span class="pl-smi">key</span>, <span class="pl-smi">def</span>){
    <span class="pl-k">return</span> <span class="pl-v">this</span>.<span class="pl-c1">data</span>[key] <span class="pl-k">||</span> def;
};
Gpub.bindable(Model.<span class="pl-c1">prototype</span>, <span class="pl-s"><span class="pl-pds">'</span>set<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>get<span class="pl-pds">'</span></span>);</pre></div>

<p>If we don't specify a <code>set</code> or <code>get</code> value, then
<code>set</code> and <code>get</code> will be used by default.</p>

<p><strong>Parameters</strong></p>

<p><strong>src</strong>:  <em>Object</em>,  Object to be augmented.</p>

<p><strong>set</strong>:  <em>String</em>,  Name of <code>set</code> method in <code>src</code></p>

<p><strong>get</strong>:  <em>String</em>,  Name of <code>get</code> method in <code>src</code></p>

<p><strong>bind</strong>:  <em>Boolean</em>,  Should we bind the generated method?</p>

<p><strong>Returns</strong></p>

<p><em>Object</em>,  Returns the passed in object.</p>

<h2>
<a id="examples" class="anchor" href="#examples" aria-hidden="true"><span class="octicon octicon-link"></span></a>Examples</h2>

<p>You can check out the contents of the examples folder.</p>

<h2>
<a id="release-history" class="anchor" href="#release-history" aria-hidden="true"><span class="octicon octicon-link"></span></a>Release History</h2>

<ul>
<li>
<code>v0.3.7</code>: Added "topic" and "unregister" function to event obj.</li>
<li>
<code>v0.3.6</code>: Added method "multi".</li>
<li>
<code>v0.3.0</code>: Added mixin.</li>
<li>
<code>v0.2.0</code>: Update API.</li>
<li>
<code>v0.1.0</code>: Initial release.</li>
</ul>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/Anaibi/gpub">Gpub</a> is maintained by <a href="https://github.com/Anaibi">Anaibi</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>

